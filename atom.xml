<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>GuoLi&#39;s Blog</title>
  <subtitle>Great or Nothing.</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://guozhivip.github.io/"/>
  <updated>2016-12-28T01:40:09.479Z</updated>
  <id>http://guozhivip.github.io/</id>
  
  <author>
    <name>GuoLi</name>
    <email>1404866853@qq.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>让 Hexo 自动生成 Tag Cloud 标签云页面</title>
    <link href="http://guozhivip.github.io/2016/12/27/hexo-tag-cloud/"/>
    <id>http://guozhivip.github.io/2016/12/27/hexo-tag-cloud/</id>
    <published>2016-12-27T04:08:49.000Z</published>
    <updated>2016-12-28T01:40:09.479Z</updated>
    
    <content type="html"><![CDATA[<p></p><h2 id="intro">前言</h2>参看上篇 <a href="/2015/10/16/hexo-404-page/">创建404页面</a> 的文章，我们可以轻易地创建一个链接为 <code>http://&quot;主页&quot;/tags/</code> 的页面，然后编辑对应 .md 文件设置样式。在此基础上，我们还需要在主题 layout 布局中添加代码，引入辅助函数，才能自动生成所需的标签云页面。下面简单介绍下实现过程。<p></p>
<a id="more"></a>
<p><img src="/resources/tag-cloud.png" alt="tag-cloud"></p>
<h2 id="匹配页面"><a href="#匹配页面" class="headerlink" title="匹配页面"></a>匹配页面</h2><p>在主题文章的 layout 中合适位置插入下列 if 语句，让代码只在标签云页面生效。</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;!-- page.path 表示不含根路径的页面网址。还有数种方式可以匹配页面，在此不赘述。 --&gt;</div><div class="line">&lt;% <span class="keyword">if</span> (page.path === <span class="string">"tags/index.html"</span>)&#123; %&gt;</div><div class="line">    &lt;引入 tags 页面的代码&gt;</div><div class="line">&lt;% &#125; %&gt;</div></pre></td></tr></table></figure>
<p>以主题 <a href="https://github.com/MOxFIVE/hexo-theme-yelee" title="简而不减 Hexo 双栏博客主题" target="_blank" rel="external">Yelee</a> 为例，须在 <code>/layout/_partial/article.ejs</code>, div <code>article-entry</code> 中插入代码。</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;div <span class="class"><span class="keyword">class</span>="<span class="title">article</span>-<span class="title">entry</span>" <span class="title">itemprop</span>="<span class="title">articleBody</span>"&gt;</span></div><div class="line">    &lt;% <span class="title">if</span> (<span class="title">post</span>.<span class="title">excerpt</span> &amp;&amp; <span class="title">index</span>)&#123; %&gt;</div><div class="line">        &lt;%- post.excerpt %&gt;</div><div class="line">    &lt;% &#125; <span class="keyword">else</span> &#123; %&gt;</div><div class="line">        &lt;% <span class="keyword">if</span> (page.path === <span class="string">"tags/index.html"</span>)&#123; %&gt;</div><div class="line">            &lt;引入 tags 页面的代码&gt;</div><div class="line">        &lt;% &#125; %&gt;</div><div class="line">        &lt;%- post.content %&gt;</div><div class="line">    &lt;% &#125; %&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<h2 id="插入标签云"><a href="#插入标签云" class="headerlink" title="插入标签云"></a>插入标签云</h2><p>使用 Hexo 辅助函数 <code>&lt;%- tagcloud([tags], [options]) %&gt;</code> 插入标签云，参数详解请查看 <a href="https://hexo.io/zh-cn/docs/helpers.html#tagcloud" title="tagcloud: 插入标签云" target="_blank" rel="external">官方文档</a>。</p>
<figure class="highlight actionscript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">&lt;%- tagcloud(&#123;</div><div class="line">    min_font: <span class="number">16</span>, </div><div class="line">    max_font: <span class="number">35</span>, </div><div class="line">    amount: <span class="number">999</span>, </div><div class="line">    color: <span class="literal">true</span>, </div><div class="line">    start_color: <span class="string">'gray'</span>, </div><div class="line">    end_color: <span class="string">'black'</span>,</div><div class="line">&#125;) %&gt;</div></pre></td></tr></table></figure>
<h2 id="自定义样式"><a href="#自定义样式" class="headerlink" title="自定义样式"></a>自定义样式</h2><p>审查元素，按需修改相关样式。下面是目前本博客 <a href="/tags">标签云页面</a> 所添加的代码，附上供参考。</p>
<figure class="highlight erb"><figcaption><span>/layout/_partial/article.ejs</span><a href="https://github.com/MOxFIVE/hexo-theme-yelee/commit/3a82bb65b325826b3f71cae10e39e5314ccb63cb" target="_blank" rel="external">tag cloud page</a></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div></pre></td><td class="code"><pre><div class="line">&lt;% if (page.path === "tags/index.html")&#123; %&gt;</div><div class="line">    &lt;hr&gt;</div><div class="line">    &lt;br&gt;</div><div class="line">    &lt;%- list_categories(&#123;</div><div class="line">        depth: 1,</div><div class="line">    &#125;) %&gt;</div><div class="line">    &lt;div class="tags"&gt;</div><div class="line">        &lt;%- tagcloud(&#123;</div><div class="line">            min_font: 16, </div><div class="line">            max_font: 35, </div><div class="line">            amount: 999, </div><div class="line">            color: true, </div><div class="line">            start_color: 'gray', </div><div class="line">            end_color: 'black',</div><div class="line">        &#125;) %&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">    &lt;style&gt;</div><div class="line">        .category-list li&#123;</div><div class="line">            display: inline-block;</div><div class="line">            margin: 0 1em .5em 0;</div><div class="line">            padding: 4px;</div><div class="line">            border: 1px solid lightgray;</div><div class="line">            font-size: 1.2em;</div><div class="line">        &#125;</div><div class="line">        .category-list a &#123;</div><div class="line">            color: gray;</div><div class="line">        &#125;</div><div class="line">        .category-list-item:hover a &#123;</div><div class="line">            color: gray;</div><div class="line">            text-decoration: none;</div><div class="line">            font-weight: bold;</div><div class="line">        &#125;</div><div class="line">        .category-list-count &#123;</div><div class="line">            margin-left: 2px;</div><div class="line">            font-size: .9em;</div><div class="line">        &#125;</div><div class="line">        .article-entry ul li:before&#123;</div><div class="line">            display: none;</div><div class="line">        &#125;</div><div class="line">        .article-inner  &#123;</div><div class="line">            text-align: center;</div><div class="line">        &#125;</div><div class="line">        .tags &#123;</div><div class="line">            max-width: 40em;</div><div class="line">            margin: 2em auto;</div><div class="line">            margin-top: 0em;</div><div class="line">        &#125;</div><div class="line">        .tags a &#123;</div><div class="line">            margin-right: 1em;</div><div class="line">            border-bottom: 1px solid gray;</div><div class="line">            line-height: 65px;</div><div class="line">            white-space: nowrap;</div><div class="line">        &#125;</div><div class="line">        .tags a:hover &#123;</div><div class="line">            border-bottom: 2px solid black;</div><div class="line">            font-style: italic;</div><div class="line">            text-decoration: none;</div><div class="line">        &#125;</div><div class="line">    &lt;/style&gt;</div><div class="line">&lt;% &#125; %&gt;</div></pre></td></tr></table></figure>
<blockquote>
<p>知道怎么在特定页面中引入 Hexo 自带的函数和变量后，大家应该就可以比较自在地在文章中引入需要的内容了，标签列表，文章列表，文章地址，日期时间等都可以。</p>
</blockquote>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ol>
<li><strong><em>tagcloud: 插入标签云</em></strong> by <strong>Hexo</strong> on <code>2015</code>: <a href="https://hexo.io/zh-cn/docs/helpers.html#tagcloud" target="_blank" rel="external">https://hexo.io/zh-cn/docs/helpers.html#tagcloud</a></li>
<li><strong><em>变量使用</em></strong> by <strong>Hexo</strong> on <code>2015</code>: <a href="https://hexo.io/zh-cn/docs/variables.html" target="_blank" rel="external">https://hexo.io/zh-cn/docs/variables.html</a></li>
<li><strong><em>feat: tags cloud page 标签云页面</em></strong> by <strong>MOxFIVE</strong> on <code>2015/10/12</code>: <a href="https://github.com/MOxFIVE/hexo-theme-yelee/commit/3a82bb65b325826b3f71cae10e39e5314ccb63cb" target="_blank" rel="external">https://github.com/MOxFIVE/hexo-theme-yelee/commit/3a82bb65b325826b3f71cae10e39e5314ccb63cb</a></li>
<li><strong><em>统计分类及标签数</em></strong> by <strong>MOxFIVE</strong> on <code>2015/12/1</code>: <a href="https://github.com/MOxFIVE/hexo-theme-yelee/commit/56abe4226454571335a62120ab404792f274437f" target="_blank" rel="external">https://github.com/MOxFIVE/hexo-theme-yelee/commit/56abe4226454571335a62120ab404792f274437f</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;h2 id=&quot;intro&quot;&gt;前言&lt;/h2&gt;参看上篇 &lt;a href=&quot;/2015/10/16/hexo-404-page/&quot;&gt;创建404页面&lt;/a&gt; 的文章，我们可以轻易地创建一个链接为 &lt;code&gt;http://&amp;quot;主页&amp;quot;/tags/&lt;/code&gt; 的页面，然后编辑对应 .md 文件设置样式。在此基础上，我们还需要在主题 layout 布局中添加代码，引入辅助函数，才能自动生成所需的标签云页面。下面简单介绍下实现过程。&lt;/p&gt;
    
    </summary>
    
      <category term="术业专攻" scheme="http://guozhivip.github.io/categories/%E6%9C%AF%E4%B8%9A%E4%B8%93%E6%94%BB/"/>
    
    
      <category term="Hexo" scheme="http://guozhivip.github.io/tags/Hexo/"/>
    
      <category term="TagCloud" scheme="http://guozhivip.github.io/tags/TagCloud/"/>
    
  </entry>
  
</feed>
